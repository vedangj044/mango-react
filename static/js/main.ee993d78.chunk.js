(this["webpackJsonpmango-react"]=this["webpackJsonpmango-react"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),o=n(6),a=n.n(o),r=n(7),l=n(3),i=n(0);function d(e){return Object(i.jsxs)("div",{className:"mx-4 my-8",children:[Object(i.jsxs)("div",{className:"flex items-baseline ",children:[Object(i.jsx)("a",{className:"flex-auto",href:"/",children:Object(i.jsx)("h1",{className:"my-2 text-4xl font-bold px-4",children:"Mango"})}),Object(i.jsx)("div",{className:"bg-yellow-300 h-4 w-4 mx-4 rounded-sm"}),Object(i.jsx)("h1",{className:"text-xl",children:"Drip empty"}),Object(i.jsx)("div",{className:"h-4 w-4"}),Object(i.jsx)("div",{className:"bg-red-300 h-4 w-4 mx-4 rounded-sm"}),Object(i.jsx)("h1",{className:"text-xl",children:"Call nurse"})]}),Object(i.jsx)("hr",{})]})}function u(e){var t=Object(c.useState)({display:"none"}),n=Object(l.a)(t,2),s=n[0],o=n[1],a=Object(c.useState)([]),r=Object(l.a)(a,2),d=r[0],u=r[1];return Object(c.useEffect)((function(){var t;t="1"===e.type?"yellow":"red",u({id:e.iden,colors:t,bed:e.bed})}),[e]),Object(i.jsxs)("div",{id:d.id,className:"w-44 h-48 rounded-md m-4 hover:bg-opacity-60  p-4 bg-"+d.colors+"-300",onMouseEnter:function(e){o({display:"block"})},onMouseLeave:function(e){o({display:"none"})},children:[Object(i.jsx)("h1",{className:"text-center text-gray-900 text-lg",children:"Bed"}),Object(i.jsx)("h1",{className:"text-center text-8xl font-bold",children:d.bed}),Object(i.jsxs)("button",{style:s,className:"py-2 rounded-md text-white w-full bg-"+d.colors+"-700",onClick:function(){e.onChange(e.iden)},children:[Object(i.jsx)("i",{className:"fa fa-check-square px-2"}),"Done"]})]})}var j=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],o=Object(c.useRef)(null),a=function(e){s(n.filter((function(t){return t.id!==e})))};return Object(c.useEffect)((function(){return o.current=new WebSocket("wss://mangovest.herokuapp.com/realtime"),o.current.onopen=function(){return console.log("Connection opened")},o.current.onclose=function(){return console.log("Connection closed")},function(){o.current.close()}}),[]),Object(c.useEffect)((function(){o.current&&(o.current.onmessage=function(e){var t=JSON.parse(e.data);console.log("e",t),s([].concat(Object(r.a)(n),[{id:"s"+(Math.floor(1e4*Math.random())+1),bed:t.bed,type:t.command}]))})}),[n]),Object(i.jsxs)("div",{className:"mx-0 xl:mx-40",children:[Object(i.jsx)(d,{}),Object(i.jsx)("div",{className:"flex flex-wrap justify-start",children:n.map((function(e){return Object(i.jsx)(u,{iden:e.id,bed:e.bed,type:e.type,onChange:a})}))})]})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),o(e),a(e)}))};n(13);a.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(j,{})}),document.getElementById("root")),b()}},[[14,1,2]]]);
//# sourceMappingURL=main.ee993d78.chunk.js.map